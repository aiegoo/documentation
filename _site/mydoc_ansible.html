<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="summary.">
<meta name="keywords" content="getting_starteddronegitsetup,  API, content API, UI text, inline help, context-sensitive help, popovers, tooltips">
<meta name="theme-color" content="#72ac4a" />
<title>contents deploy automation | Tonylee Project Showcase</title>
<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="css/theme-green.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="aiegoo.github.io/feed.xml">



    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"><img src="images/tony_doc.svg" style="width: 117px; max-width: 12%;"> My Project Documentation</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="https://github.com/aiegoo/portfolio/wiki" target="_blank" rel="noopener">GitHub</a></li>
                
                
                
                <li><a href="news">News</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Xaas<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="http://159.65.8.38:10024/en" target="_blank" rel="noopener">o-lora</a></li>
                        
                        
                        
                        <li><a href="http://159.65.8.38:10024/admin" target="_blank" rel="noopener">o-lora/admin aiegoo/</a></li>
                        
                        
                        
                        <li><a href="http://159.65.8.38:10024/blog" target="_blank" rel="noopener">o-lora/blog</a></li>
                        
                        
                        
                        <li><a href="http://idratherbewriting.com/category-jekyll/" target="_blank" rel="noopener">Jekyll on my blog</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Xaas 2<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="mydoc_introduction.html">Conference call</a></li>
                        
                        
                        
                        <li><a href="p1_landing_page.html">LasVegas CES</a></li>
                        
                        
                        
                        <li><a href="p2_landing_page.html">Autonomous drone</a></li>
                        
                        
                    </ul>
                </li>
                
                
                
			<li>



  <a class="email" title="Submit feedback" href="https://aiegoo.github.io/portfolio">portfolio wiki</a>

</li>



		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="contents deploy automation">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>



<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle">my portfolio 1.0</li>
  
  
  
      
  
  <li>
      <a title="Overview" href="#">Overview</a>
      <ul>
          
          
          
          <li><a title="Get started" href="index.html">Get started</a></li>
          
          
          
          
          
          
          <li><a title="About this site" href="mydoc_aboutsite.html">About this site</a></li>
          
          
          
          
          
          
          <li><a title="Dotfiles" href="mydoc_supported_features.html">Dotfiles</a></li>
          
          
          
          
          
          
          <li><a title="About the author" href="mydoc_about.html">About the author</a></li>
          
          
          
          
          
          
          <li><a title="tl;dr" href="mydoc_support.html">tl;dr</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Automation" href="#">Automation</a>
      <ul>
          
          
          
          <li class="active"><a title="Ansible" href="mydoc_ansible.html">Ansible</a></li>
          
          
          
          
          
          
          <li><a title="Git webhook" href="mydoc_webhook.html">Git webhook</a></li>
          
          
          
          
          
          
          <li><a title="Bash pipeline" href="mydoc_pipeline.html">Bash pipeline</a></li>
          
          
          
          
          
          
          <li><a title="Docker" href="mydoc_docker.html">Docker</a></li>
          
          
          
          
          
          
          <li><a title="Gitlab" href="mydoc_gitlab.html">Gitlab</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="ROS, Serializer" href="#">ROS, Serializer</a>
      <ul>
          
          
          
          <li><a title="Django restapi frameworks" href="mydoc_django.html">Django restapi frameworks</a></li>
          
          
          
          <li class="subfolders subfolder-background">
              <a title="+Rostopic integration for GUI" href="#">+Rostopic integration for GUI</a>
              <ul>
                  
                  
                  
                  <li><a title="GUI overview" href="mydoc_rostopic.html">GUI overview</a></li>
                  
                  
                  
                  
                  
                  <li><a title="GCS-web" href="tag_gcs_web.html">GCS-web</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Rqt" href="tag_rqt.html">Rqt</a></li>
                  
                  
                  
                  
                  
                  <li><a title="webrtc" href="tag_webrtc.html">webrtc</a></li>
                  
                  
                  
                  
                  
                  <li><a title="mqtt" href="tag_mqtt.html">mqtt</a></li>
                  
                  
                  
              </ul>
          </li>
          
          
          
          
          
          
          <li><a title="Gitlab-github actions" href="mydoc_actions.html">Gitlab-github actions</a></li>
          
          
          
          
          
          
          <li><a title="pipeline, heroku, mailchimps" href="mydoc_heroku.html">pipeline, heroku, mailchimps</a></li>
          
          
          
          
          
          
          <li><a title="others" href="mydoc_others.html">others</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Django frameworks" href="#">Django frameworks</a>
      <ul>
          
          
          
          <li><a title="Oscar" href="mydoc_oscar.html">Oscar</a></li>
          
          
          
          
          
          
          <li><a title="Raspi" href="mydoc_raspi.html">Raspi</a></li>
          
          
          
          
          
          
          <li><a title="Lora" href="mydoc_lora.html">Lora</a></li>
          
          
          
          
          
          
          <li><a title="Drone-gui" href="mydoc_drone.html">Drone-gui</a></li>
          
          
          
          
          
          
          <li><a title="Content reuse" href="mydoc_content_reuse.html">Content reuse</a></li>
          
          
          
          
          
          
          <li><a title="Collections" href="mydoc_collections.html">Collections</a></li>
          
          
          
          
          
          
          <li><a title="WebStorm editor tips" href="mydoc_webstorm_text_editor.html">WebStorm editor tips</a></li>
          
          
          
          
          
          
          <li><a title="Atom editor tips" href="mydoc_atom_text_editor.html">Atom editor tips</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Node frameworks" href="#">Node frameworks</a>
      <ul>
          
          
          
          <li><a title="Django+Vue" href="mydoc_djangovue.html">Django+Vue</a></li>
          
          
          
          
          
          
          <li><a title="Weather app" href="mydoc_weather.html">Weather app</a></li>
          
          
          
          
          
          
          <li><a title="Chat app" href="mydoc_chatapp.html">Chat app</a></li>
          
          
          
          
          
          
          <li><a title="Bootstrap" href="mydoc_bootstrap.html">Bootstrap</a></li>
          
          
          
          
          
          
          <li><a title="lightup.co.kr/blog" href="mydoc_lightup.html">lightup.co.kr/blog</a></li>
          
          
          
          
          
          
          <li><a title="lightup.co.kr/admin" href="mydoc_lightupadmin.html">lightup.co.kr/admin</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Racing drones" href="#">Racing drones</a>
      <ul>
          
          
          
          <li><a title="DaLrC215" href="mydoc_dalrc.html">DaLrC215</a></li>
          
          
          
          
          
          
          <li><a title="Dev-skyhero" href="mydoc_skyhero.html">Dev-skyhero</a></li>
          
          
          
          
          
          
          <li><a title="MiniCp04" href="mydoc_minicp.html">MiniCp04</a></li>
          
          
          
          
          
          
          <li><a title="Dev-Nazam 02" href="mydoc_devnazam.html">Dev-Nazam 02</a></li>
          
          
          
          
          
          
          <li><a title="Xugong" href="xugong.html">Xugong</a></li>
          
          
          
          
          
          
          <li><a title="Labels" href="mydoc_labels.html">Labels</a></li>
          
          
          
          
          
          
          <li><a title="Links" href="mydoc_hyperlinks.html">Links</a></li>
          
          
          
          
          
          
          <li><a title="Navtabs" href="mydoc_navtabs.html">Navtabs</a></li>
          
          
          
          
          
          
          <li><a title="Tables" href="mydoc_tables.html">Tables</a></li>
          
          
          
          
          
          
          <li><a title="Syntax highlighting" href="mydoc_syntax_highlighting.html">Syntax highlighting</a></li>
          
          
          
          
          
          
          <li><a title="Workflow maps" href="mydoc_workflow_maps.html">Workflow maps</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="APM drones" href="#">APM drones</a>
      <ul>
          
          
          
          <li><a title="pixhawk overview" href="mydoc_pixhwak_overview.html">pixhawk overview</a></li>
          
          
          
          <li class="subfolders subfolder-background">
              <a title="+rFlyeval CopterSim" href="#">+rFlyeval CopterSim</a>
              <ul>
                  
                  
                  
                  <li><a title="Instrucdtions&&documentation" href="mydoc_commenting_on_files.html">Instrucdtions&&documentation</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Implementating Pixhawk Cube" href="tag_rfly_cube.html">Implementating Pixhawk Cube</a></li>
                  
                  
                  
              </ul>
          </li>
          
          
          
          
          
          
          <li><a title="Dev-Apmdr 01 / pixhawk lite" href="mydoc_apmdr.html">Dev-Apmdr 01 / pixhawk lite</a></li>
          
          
          
          
          
          
          <li><a title="Cube black" href="mydoc_cube.html">Cube black</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="DJI drones" href="#">DJI drones</a>
      <ul>
          
          
          
          <li><a title="Quad wookong" href="mydoc_quad.html">Quad wookong</a></li>
          
          
          
          
          
          
          <li><a title="S1000 wookong" href="mydoc_s1000.html">S1000 wookong</a></li>
          
          
          
          
          
          
          <li><a title="S1000 A2" href="mydoc_s100a2.html">S1000 A2</a></li>
          
          
          
          
          
          
          <li><a title="S900 wookong" href="mydoc_s900.html">S900 wookong</a></li>
          
          
          
          
          
          
          <li><a title="Nazam" href="mydoc_nazam.html">Nazam</a></li>
          
          
          
          
          
          
          <li><a title="iTerm profiles" href="mydoc_iterm_profiles.html">iTerm profiles</a></li>
          
          
          
          
          
          
          <li><a title="Pushing builds to server" href="mydoc_push_build_to_server.html">Pushing builds to server</a></li>
          
          
          
          
          
          
          <li><a title="Publishing on Github Pages" href="mydoc_publishing_github_pages.html">Publishing on Github Pages</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Feature drones" href="#">Feature drones</a>
      <ul>
          
          
          
          <li><a title="Yuneec H" href="mydoc_yuneec.html">Yuneec H</a></li>
          
          
          
          
          
          
          <li><a title="Bebop Parrot" href="mydoc_bebop.html">Bebop Parrot</a></li>
          
          
          
          
          
          
          <li><a title="Jetbot rover" href="mydoc_jetbot.html">Jetbot rover</a></li>
          
          
          
          
          
          
          <li><a title="AGX Xavier rover" href="mydoc_xavier.html">AGX Xavier rover</a></li>
          
          
          
          
          
          
          <li><a title="Vtol & flight data" href="mydoc_vtol.html">Vtol & flight data</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Schooling" href="#">Schooling</a>
      <ul>
          
          
          
          <li><a title="My courses" href="mydoc_mycourse.html">My courses</a></li>
          
          
          
          
          
          
          <li><a title="ncs-ML/DL" href="mydoc_deeplearning.html">ncs-ML/DL</a></li>
          
          
          
          
          
          
          <li><a title="C++" href="mydoc_cplus.html">C++</a></li>
          
          
          
          
          
          
          <li><a title="Web-scraping" href="mydoc_webscraping.html">Web-scraping</a></li>
          
          
          
          
          
          
          <li><a title="Challenger project" href="mydoc_challenger-project.html">Challenger project</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="AIOT embedded projects" href="#">AIOT embedded projects</a>
      <ul>
          
          
          
          <li><a title="Overview" href="tag_aiotoverview.html">Overview</a></li>
          
          
          
          <li class="subfolders subfolder-background">
              <a title="+Intel Edison projects" href="#">+Intel Edison projects</a>
              <ul>
                  
                  
                  
                  <li><a title="Detection serializer" href="tag_sensor_detection.html">Detection serializer</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Realsense drone" href="tag_realsense.html">Realsense drone</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Edison Arduino" href="tag_edison_arduino.html">Edison Arduino</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Collaboration pages" href="tag_collaboration.html">Collaboration pages</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Troubleshooting pages" href="tag_troubleshooting.html">Troubleshooting pages</a></li>
                  
                  
                  
              </ul>
          </li>
          
          
          
          
          
          
          <li><a title="Jetson nano" href="tag_jetson_nano.html">Jetson nano</a></li>
          
          
          
          <li class="subfolders subfolder-background">
              <a title="+Jetson Xavier" href="#">+Jetson Xavier</a>
              <ul>
                  
                  
                  
                  <li><a title="project overview" href="tag_jetson_xavier.html">project overview</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Raspberry Pi projects" href="tag_raspi.html">Raspberry Pi projects</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Sensor serializer" href="tag_serializer.html">Sensor serializer</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Lora monitoring system" href="tag_lora_monitoring.html">Lora monitoring system</a></li>
                  
                  
                  
              </ul>
          </li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Books" href="#">Books</a>
      <ul>
          
          
          
          <li><a title="Fiction" href="mydoc_fiction.html">Fiction</a></li>
          
          
          
          <li class="subfolders subfolder-background">
              <a title="Tag archive pages" href="#">Tag archive pages</a>
              <ul>
                  
                  
                  
                  <li><a title="Formatting pages" href="tag_formatting.html">Formatting pages</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Navigation pages" href="tag_navigation.html">Navigation pages</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Content types pages" href="tag_content_types.html">Content types pages</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Publishing pages" href="tag_publishing.html">Publishing pages</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Special layout pages" href="tag_special_layouts.html">Special layout pages</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Collaboration pages" href="tag_collaboration.html">Collaboration pages</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Troubleshooting pages" href="tag_troubleshooting.html">Troubleshooting pages</a></li>
                  
                  
                  
              </ul>
          </li>
          
          
          
          
          
          
          <li><a title="Web-dev-ops" href="mydoc_webdev.html">Web-dev-ops</a></li>
          
          
          
          
          
          
          <li><a title="two scoops of django" href="mydoc_twoscoops.html">two scoops of django</a></li>
          
          
          
          
          
          
          <li><a title="presentation" href="books_revealjs.html">presentation</a></li>
          
          
          
          
          
          
          <li><a title="more to come" href="">more to come</a></li>
          
          
          
          
          
          
          <li><a title="drone companies" href="mydoc_contact.html">drone companies</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
     
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
       
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>



            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">contents deploy automation</h1>
</div>



<div class="post-content">

   
    <div class="summary">summary.</div>
   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})

});
</script>

<details>
  <summary>
    <div id="toc"></div></summary>
</details>



    


    

    <a target="_blank" rel="noopener" href="https://github.com/aiegoo/documentation/blob/gh-pages/pages/mydoc/mydoc_ansible.md" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit me</a>

    

   <h2 id="ansible">Ansible</h2>

<p>I have worked on this a couple of months as a part of deploy automation. Ansible is powerful as in itself is a network language affiliated with corporations such as Cisco, Amazon, Openstack, Azure and other paramount vendors in equal standing.</p>
<h3 id="github-repo">github repo</h3>
<p>-<a href="https://github.com/aiegoo/ansible">ansible</a></p>

<h3 id="udemy-course-i-have-taken">udemy course I have taken;</h3>
<ul>
  <li>DevOps: Automate your infrastructure using Ansible in 9 hours</li>
  <li>Ansible Essentials Simplicity in Automation <a href="https://github.com/aiegoo/udemy/wiki/devop27">udemyWiki</a></li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone <span class="nt">--single-branch</span> <span class="nt">--branch</span> june2 git@github.com:aiegoo/ansible.git

</code></pre></div></div>

<p>Above script will copy the june2 branch of the repository, which contains readme and codes I have worked on. Below is the replicate of the branch readme contents.</p>

<hr />

<hr />

<h1 id="1-introduction">1. Introduction</h1>

<p>We need to configure three kinds of machines -</p>

<ol>
  <li>Master Server (M)</li>
  <li>Deployment Servers (X, Y, Z, etc.)</li>
  <li>Development Machines (A, B, etc.)</li>
</ol>

<p>where M, X, Y, Z, A, B, etc. refer to the IP addresses of these machines respectively.</p>

<h2 id="11-architecture">1.1 Architecture</h2>
<p>This is the architecture diagram which will be used for reference.
<img src="https://github.com/aiegoo/ansible/blob/june2/Architecture.jpg?raw=true" alt="Architecture" title="Architecture" /></p>

<h1 id="2-configuring-master-server-m">2. Configuring Master Server (M)</h1>
<p>On the Master Server, four things need to be set up which are -</p>
<ol>
  <li>A <a href="https://git-scm.com/book/en/v2/Git-on-the-Server-Getting-Git-on-a-Server" title="bare git repository">bare git repository</a> (G) that hosts the code and acts like github.com</li>
  <li>Ansible control node configurations</li>
  <li>Passwordless SSH into each of the development servers (X, Y, Z, etc.)</li>
  <li>post-receive hook on the bare repository (G) created in step 1</li>
</ol>

<h2 id="21-setting-up-the-bare-git-repository">2.1 Setting up the bare git repository</h2>
<p><a href="https://git-scm.com/book/en/v2/Git-on-the-Server-Getting-Git-on-a-Server" title="This guide">This guide</a> explains the process of creating a bare git repository. Follow this or any other guide to set up your bare repository on this server. It may or may not have shared file server facility as explained <a href="https://mindchasers.com/dev/git-bare" title="here">here</a>. Just create a basic bare git repository which you can push to from one of the development machines (A, B, etc.).
You can either create a new bare repository -</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git init <span class="nt">--bare</span> <span class="nb">.</span>
</code></pre></div></div>
<p>or clone an existing repository in bare mode -</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone <span class="nt">--bare</span> https://github.com/example/example.git
</code></pre></div></div>

<h2 id="22-configuring-the-ansible-control-node">2.2 Configuring the Ansible control node</h2>
<p>The Master server (M) needs to be configured for use as an Ansible control node.
For this, follow the steps given below -</p>

<h3 id="221-install-ansible">2.2.1 Install Ansible</h3>
<p>For installing Ansible on (M) follow the steps given <a href="https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html" title="here">here</a>.</p>

<h3 id="222-clone-this-repository">2.2.2 Clone this repository</h3>
<p>This repository contains the code for ansible playbooks in the branch develop-ansible. Clone it and checkout the branch develop-ansible.
The expected path where this repository should be cloned on the master server is <code class="language-plaintext highlighter-rouge">/root/</code>
So, after cloning, the contents of this repository should be inside <code class="language-plaintext highlighter-rouge">/root/ansible/</code> folder. Following is a set of commands you might require -</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /root
git clone https://github.com/aiegoo/ansible.git
<span class="nb">cd </span>ansible
git checkout develop-ansible
</code></pre></div></div>

<h3 id="223-configure-the-necessary-variables">2.2.3 Configure the necessary variables</h3>
<p>In the cloned repository, see config variables in the file playbooks/roles/git_update/defaults/main.yml
You can edit these variables in the editor of your choice. Assuming you use vim, you can refer to this <a href="https://vim.rtorr.com/" title="quick cheatsheet">quick cheatsheet</a> of vim commands. Here are some commands you might need -</p>

<p>Open the file:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vi /root/ansible/playbooks/roles/git_update/defaults/main.yml
</code></pre></div></div>
<p>Enter INSERT mode by pressing <code class="language-plaintext highlighter-rouge">i</code>, then navigate to the position of the variables given below. Use <code class="language-plaintext highlighter-rouge">DELETE</code> to remove parts you don’t want and type in the text required. When done, press <code class="language-plaintext highlighter-rouge">ESC</code> to reach back to the command mode. Type <code class="language-plaintext highlighter-rouge">:wq</code> to save and quit the file. Repeat as required for as many of the variables given below as required.</p>

<h5 id="2231-github_base_url">2.2.3.1 GITHUB_BASE_URL</h5>
<p>This is the base URL for the repo you’re trying to set up. For repos hosted on github.com, this will be ‘https://github.com’.
For a bare repo on, say 52.79.239.222, this will be ‘ssh://root@52.79.239.222:’
For the latter case, make sure you have passwordless ssh auth from that location and don’t forget the colon at the end. This is explained in the later sections.</p>

<h5 id="2232-github_repo_name">2.2.3.2 GITHUB_REPO_NAME</h5>

<p>This is the complete repo name. For repos hosted on github.com, include the username too, e.g. ‘aiegoo/hanuman’
For bare repos, this is the full path of the repository e.g. ‘root/repos/project.git’.
Please note that a ‘/’ is automatically added preceding this value to conjunct correctly with GITHUB_BASE_URL.</p>

<h5 id="2233-github_localdir">2.2.3.3 GITHUB_LOCALDIR</h5>

<p>Path where the repo should be cloned in the target server.</p>

<h5 id="2234-github_default_branch">2.2.3.4 GITHUB_DEFAULT_BRANCH</h5>
<p>Branch of the repo to be cloned. By default this is ‘master’</p>

<h5 id="2235-list-your-deployment-servers-x-y-z-etc">2.2.3.5 List your deployment servers (X, Y, Z, etc.)</h5>
<p>Next, configure the list of servers in playbooks/inventory.ini
Comment out the [localhost] part and add each new server in a new block, e.g.,</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[X]
ip_addr ansible_connection=ssh ansible_user=user ansible_ssh_private_key_file=/home/user/.ssh/id_rsa

[Y]
ip_addr ansible_connection=ssh ansible_user=user ansible_ssh_private_key_file=/home/user/.ssh/id_rsa
</code></pre></div></div>

<p>This server block contains 5 parts -</p>
<h6 id="block-name">Block name</h6>
<p>This is what you write in square brackets, e.g. [X] and [Y] above.</p>
<h6 id="ip-address">IP Address</h6>
<p>This is the IP Address of the deployment server in consideration.</p>
<h6 id="ansible_connection">ansible_connection</h6>
<p>This is the type of ansible connection to use. Refer to <a href="https://docs.ansible.com/ansible/latest/plugins/connection.html" title="this">this</a>, and in this case this should be ‘ssh’ so you can leave it as it is.</p>
<h6 id="ansible_user">ansible_user</h6>
<p>The username that should be used in your SSH connection to the deployment server in consideration.</p>
<h6 id="ansible_ssh_private_key">ansible_ssh_private_key</h6>
<p>The path of the SSH key to be used for this connection on the Master server (M). If you login with ‘root’ user, this should be ‘/root/.ssh/id_rsa’</p>

<h3 id="23-passwordless-ssh">2.3 Passwordless SSH</h3>
<p>Make sure the servers you add here with ansible_connection=ssh allow passwordless ssh connection from the Master server (M)
To enable this, follow <a href="https://askubuntu.com/questions/46930/how-can-i-set-up-password-less-ssh-login" title="this guide">this guide</a> for each of the deployment servers you add.
Basically this boils down to running two commands -</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ssh-keygen <span class="o">(</span>only the first <span class="nb">time</span><span class="o">)</span>
    ssh-copy-id user@ssh-host <span class="o">(</span><span class="k">for </span>each deployment server<span class="o">)</span>
</code></pre></div></div>
<h3 id="24-configuring-the-post-receive-hook">2.4 Configuring the post-receive hook</h3>
<p>On this bare repo (G) we need to configure the post-receive hook so that it runs ansible when something is pushed to it.
The ‘post-receive’ hook file is provided in this repository. Copy it to the hooks folder inside your bare git repository.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cp</span> /root/ansible/post-receive /path/to/your/bare/repo.git/hooks/
</code></pre></div></div>
<p>Make sure it is executable by running
<code class="language-plaintext highlighter-rouge">chmod +x post-receive</code></p>

<h1 id="3-configuring-the-deployment-servers">3. Configuring the deployment servers</h1>
<p>Next, we need to setup the deployment servers that we have listed in 2.2.3.5</p>

<p>For each deployment server (X, Y, Z, etc.), the step 2.3 Passwordless SSH access needs to be performed for connection to the Master server (M). Basically, each deployment machine needs to be able to connect without a password to the Master server (M) as it needs to pull the code from the bare git repo (G) from there.</p>

<h1 id="4-configure-the-development-machines">4. Configure the development machines</h1>
<p>In each development machine, make sure you have sufficient access to push to the bare git repository hosted at the Master server (M)</p>

<h1 id="5-how-it-all-works">5. How it all works?</h1>
<p>Refer to the Architecture diagram, when you push something from, say ‘A’ to ‘M’, the file post-receive inside the bare repository is triggered.
This file runs the script ‘server-update-ansible’.
In ‘server-update-ansible’, there’s code which runs an ansible playbook.
This ansible playbook has some configurations as done in 2.2.3.
he playbook connects with each of the deployment servers, say ‘X’, and pulls the code from the bare git repo.</p>

<p>``</p>


    <div class="tags">
        
        <b>Tags: </b>
        
        
        
        <a href="tag_getting_started.html" class="btn btn-default navbar-btn cursorNorm" role="button">getting_started</a>
        
        
        
        <a href="tag_drone.html" class="btn btn-default navbar-btn cursorNorm" role="button">drone</a>
        
        
        
        <a href="tag_git.html" class="btn btn-default navbar-btn cursorNorm" role="button">git</a>
        
        
        
        <a href="tag_setup.html" class="btn btn-default navbar-btn cursorNorm" role="button">setup</a>
        
        
        
    </div>







</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2021 Tonyleekorea. All rights reserved. <br />
<span>Page last updated:</span> July 10, 2021<br/> Site last generated: Aug 7, 2021 <br />
<p align="right"><img src="images/tonyillust_atwork.svg" alt="tonyillust" style="width: 20%; max-width: 30%;"/></p>
                </div>
            </div>
</footer>






        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

</html>


